<% content_for(:page_title) do %>
  <%= posts_title(@tags) %>
<% end -%>

<% content_for :head do %>
  <%= auto_discovery_link_tag(:atom, @tags.nil? ? posts_path(:format => 'atom') : posts_path(:tags => @tags, :format => 'atom')) %>
<% end %>

<div id="content">
  
  <div id="posts">
    <% if @posts.empty? -%>
      <p><%= I18n::t('posts.none') %></p>
    <% else -%>
      <% @posts.each do |post| -%>
        <div class="post post-<%= post.id %>">
          <%= render :partial => 'post', :locals => {:post => post} %>
        </div>
      <% end -%>
    <% end -%>
    <%= will_paginate(@posts, :previous_label => I18n::t('posts.pagination.previous'),
                              :next_label     => I18n::t('posts.pagination.next')) %>
  </div>

</div>

