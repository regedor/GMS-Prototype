class Mail < ActiveRecord::Base
  # ==========================================================================
  # Relationships
  # ==========================================================================

  has_one :user
  has_and_belongs_to_many :recipients, :class_name=>"User"

  # ==========================================================================
  # Validations
  # ==========================================================================


  # ==========================================================================
  # Attributes Accessors
  # ==========================================================================
  
  attr_accessor :sent_on, :subject, :message, :user, :mailable_users
  

  # ==========================================================================
  # Instance Methods
  # ==========================================================================
  
  def initialize
    super
    users = []
    User.all.each do |user|
      users << user.to_label
    end
    @mailable_users = users.join(",")
  end 

  # ==========================================================================
  # Class Methods
  # ==========================================================================

  class << self

  end
  
end
